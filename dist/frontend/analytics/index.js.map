{"version":3,"sources":["../../../src/frontend/analytics/index.ts"],"names":["Analytics","event","payload","window","parent","postMessage","_kojiEventName","client","analytics"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACaA,S;;;;;;;;AACX;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;0BAEeC,K,EAAeC,O,EAA6C;AACvEC,MAAAA,MAAM,CAACC,MAAP,CAAcC,WAAd,CACE;AACEC,QAAAA,cAAc,EAAE,wBADlB;AAEEL,QAAAA,KAAK,EAALA,KAFF;AAGEC,QAAAA,OAAO,EAAEA,OAAO,IAAI;AAHtB,OADF,EAME,GANF;AASA,aAAO,IAAP;AACD;;;6EAZAK,c;;AAeI,IAAMC,SAAS,GAAG,IAAIR,SAAJ,EAAlB","sourcesContent":["import { client } from '../@decorators/client';\n\n/**\n * Enables you to track custom events in your Koji apps.\n * For example, track `onClick` events for the links and buttons in a Koji app.\n *\n * To view the analytics data for a published Koji app, view the published app, click the **App** link, and then **Open Analytics**.\n * You will see data for the custom events along with a standard set of built-in metrics, which are calculated from the app’s access logs.\n *\n * TIP: Analytics data is processed at frequent intervals throughout the day. If you are testing the custom events in a published app and you don’t see results at first, wait 10 minutes to account for data processing latency, and then check again.\n */\nexport class Analytics {\n  /**\n   * Generates an analytics event with the specified name and data payload, if applicable.\n   *\n   * @param  event   Name of the custom event.\n   * @param  payload List of custom key-value pairs to save with the event.\n   * @return         Indicates whether the event was generated.\n   *\n   * @example\n   *\n   * ```javascript\n   * const event = Koji.analytics.track('My Custom Event');\n   *\n   * // with optional payload\n   * const event = Koji.analytics.track('Won game', { score: 120 });\n   * ```\n   */\n  @client\n  public track(event: string, payload?: { [index: string]: any }): boolean {\n    window.parent.postMessage(\n      {\n        _kojiEventName: '@@koji/analytics/track',\n        event,\n        payload: payload || null,\n      },\n      '*',\n    );\n\n    return true;\n  }\n}\n\nexport const analytics = new Analytics();\n"],"file":"index.js"}