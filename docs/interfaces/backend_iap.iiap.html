<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>IIAP | @withkoji/core</title>
	<meta name="description" content="Documentation for @withkoji/core">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">@withkoji/core</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">@withkoji/core</a>
				</li>
				<li>
					<a href="../modules/backend_iap.html">backend/iap</a>
				</li>
				<li>
					<a href="backend_iap.iiap.html">IIAP</a>
				</li>
			</ul>
			<h1>Interface IIAP</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<a href="../classes/backend_iap.iap.html" class="tsd-signature-type" data-tsd-kind="Class">IAP</a>
						<ul class="tsd-hierarchy">
							<li>
								<span class="target">IIAP</span>
							</li>
						</ul>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section tsd-is-private-protected">
							<h3>Properties</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-inherited tsd-is-protected"><a href="backend_iap.iiap.html#projectid" class="tsd-kind-icon">project<wbr>Id</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface tsd-is-inherited tsd-is-protected"><a href="backend_iap.iiap.html#projecttoken" class="tsd-kind-icon">project<wbr>Token</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Methods</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="backend_iap.iiap.html#capturetransaction" class="tsd-kind-icon">capture<wbr>Transaction</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="backend_iap.iiap.html#loadproduct" class="tsd-kind-icon">load<wbr>Product</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="backend_iap.iiap.html#refundtransaction" class="tsd-kind-icon">refund<wbr>Transaction</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="backend_iap.iiap.html#resolvereceiptbyid" class="tsd-kind-icon">resolve<wbr>Receipt<wbr>ById</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="backend_iap.iiap.html#resolvereceiptsbyiaptoken" class="tsd-kind-icon">resolve<wbr>Receipts<wbr>ByIAPToken</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="backend_iap.iiap.html#resolvereceiptsbysku" class="tsd-kind-icon">resolve<wbr>Receipts<wbr>BySku</a></li>
								<li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="backend_iap.iiap.html#updatereceipt" class="tsd-kind-icon">update<wbr>Receipt</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group tsd-is-private-protected">
				<h2>Properties</h2>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-inherited tsd-is-protected">
					<a name="projectid" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagProtected">Protected</span> project<wbr>Id</h3>
					<div class="tsd-signature tsd-kind-icon">project<wbr>Id<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#projectid">projectId</a></p>
						<ul>
							<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/base/index.ts#L59">backend/base/index.ts:59</a></li>
						</ul>
					</aside>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface tsd-is-inherited tsd-is-protected">
					<a name="projecttoken" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagProtected">Protected</span> project<wbr>Token</h3>
					<div class="tsd-signature tsd-kind-icon">project<wbr>Token<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div>
					<aside class="tsd-sources">
						<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#projecttoken">projectToken</a></p>
						<ul>
							<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/base/index.ts#L60">backend/base/index.ts:60</a></li>
						</ul>
					</aside>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Methods</h2>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
					<a name="capturetransaction" class="tsd-anchor"></a>
					<h3>capture<wbr>Transaction</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">capture<wbr>Transaction<span class="tsd-signature-symbol">(</span>receiptId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#capturetransaction">captureTransaction</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/iap/index.ts#L276">backend/iap/index.ts:276</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Captures a pending transaction.</p>
								</div>
								<p>NOTE: If your IAP product is defined with the <code>captureOnPurchase</code> key set to <code>false</code>, the transaction is held in a pending state until you manually invoke <code>captureTransaction</code>.
									Funds are not available in the seller&#39;s account until the transaction is captured.
									If you do not capture the transaction before the <code>captureExpiryPeriod</code>, the transaction is automatically reversed and the buyer is refunded.
								This period can be specified in the product definition from 0 to 7 days (default is 0).</p>
								<dl class="tsd-comment-tags">
									<dt>example</dt>
									<dd><pre><code class="language-javascript"><span style="color: #001080">iap</span><span style="color: #000000">.</span><span style="color: #795E26">captureTransaction</span><span style="color: #000000">(</span><span style="color: #001080">receiptId</span><span style="color: #000000">);</span>
</code></pre>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>receiptId: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Unique identifier for the transaction receipt.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
					<a name="loadproduct" class="tsd-anchor"></a>
					<h3>load<wbr>Product</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">load<wbr>Product<span class="tsd-signature-symbol">(</span>sku<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapproduct.html" class="tsd-signature-type" data-tsd-kind="Interface">IapProduct</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#loadproduct">loadProduct</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/iap/index.ts#L320">backend/iap/index.ts:320</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Gets the properties of a specified product, which enables the template to leverage dynamic product information.
									For example, you can check the stock for a product with limited quantity (via the <code>numAvailable</code> property), and indicate the number of remaining items.</p>
								</div>
								<dl class="tsd-comment-tags">
									<dt>example</dt>
									<dd><pre><code class="language-javascript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">product</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">iap</span><span style="color: #000000">.</span><span style="color: #795E26">loadProduct</span><span style="color: #000000">(</span><span style="color: #001080">sku</span><span style="color: #000000">);</span>
</code></pre>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>sku: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Identifier for the product.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapproduct.html" class="tsd-signature-type" data-tsd-kind="Interface">IapProduct</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Properties of the specified product.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
					<a name="refundtransaction" class="tsd-anchor"></a>
					<h3>refund<wbr>Transaction</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">refund<wbr>Transaction<span class="tsd-signature-symbol">(</span>receiptId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#refundtransaction">refundTransaction</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/iap/index.ts#L298">backend/iap/index.ts:298</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Refunds a transaction.</p>
								</div>
								<p>NOTE: Only unsettled transactions can be refunded.</p>
								<dl class="tsd-comment-tags">
									<dt>example</dt>
									<dd><pre><code class="language-javascript"><span style="color: #001080">iap</span><span style="color: #000000">.</span><span style="color: #795E26">refundTransaction</span><span style="color: #000000">(</span><span style="color: #001080">receiptId</span><span style="color: #000000">);</span>
</code></pre>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>receiptId: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Unique identifier for the transaction receipt.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
					<a name="resolvereceiptbyid" class="tsd-anchor"></a>
					<h3>resolve<wbr>Receipt<wbr>ById</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">resolve<wbr>Receipt<wbr>ById<span class="tsd-signature-symbol">(</span>receiptId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapreceipt.html" class="tsd-signature-type" data-tsd-kind="Interface">IapReceipt</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#resolvereceiptbyid">resolveReceiptById</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/iap/index.ts#L195">backend/iap/index.ts:195</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Gets a specific transaction receipt by its ID, which can be used to facilitate fulfillment.
										For example, use a dynamic receipt to upload a video response from the seller and then share that response with the buyer.
									Or, capture product options, such as color or size, to display to the seller in the admin page.</p>
								</div>
								<dl class="tsd-comment-tags">
									<dt>example</dt>
									<dd><pre><code class="language-javascript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">receipt</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">iap</span><span style="color: #000000">.</span><span style="color: #795E26">resolveReceiptById</span><span style="color: #000000">(</span><span style="color: #001080">id</span><span style="color: #000000">);</span>

<span style="color: #008000">// Use custom attributes for a video response</span>
<span style="color: #0000FF">this</span><span style="color: #000000">.</span><span style="color: #795E26">setState</span><span style="color: #000000">({</span>
<span style="color: #000000"> </span><span style="color: #001080">instructions:</span><span style="color: #000000"> </span><span style="color: #001080">receipt</span><span style="color: #000000">.</span><span style="color: #001080">attributes</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">,</span>
<span style="color: #000000"> </span><span style="color: #001080">video:</span><span style="color: #000000"> </span><span style="color: #001080">receipt</span><span style="color: #000000">.</span><span style="color: #001080">attributes</span><span style="color: #000000">.</span><span style="color: #001080">video</span><span style="color: #000000">,</span>
<span style="color: #000000">});</span>
</code></pre>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>receiptId: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Unique identifier for the receipt.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapreceipt.html" class="tsd-signature-type" data-tsd-kind="Interface">IapReceipt</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Object for the specified receipt.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
					<a name="resolvereceiptsbyiaptoken" class="tsd-anchor"></a>
					<h3>resolve<wbr>Receipts<wbr>ByIAPToken</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">resolve<wbr>Receipts<wbr>ByIAPToken<span class="tsd-signature-symbol">(</span>iapToken<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapreceipt.html" class="tsd-signature-type" data-tsd-kind="Interface">IapReceipt</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#resolvereceiptsbyiaptoken">resolveReceiptsByIAPToken</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/iap/index.ts#L160">backend/iap/index.ts:160</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Gets all receipts for the current user, which can be used to validate purchases for specific products.</p>
								</div>
								<dl class="tsd-comment-tags">
									<dt>example</dt>
									<dd><pre><code class="language-javascript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">receipts</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">iap</span><span style="color: #000000">.</span><span style="color: #795E26">resolveReceiptsByIAPToken</span><span style="color: #000000">(</span><span style="color: #001080">iapToken</span><span style="color: #000000">);</span>
</code></pre>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>iapToken: <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Short-lived IAP token for the current user.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapreceipt.html" class="tsd-signature-type" data-tsd-kind="Interface">IapReceipt</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Array of receipts for the user&#39;s purchases.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
					<a name="resolvereceiptsbysku" class="tsd-anchor"></a>
					<h3>resolve<wbr>Receipts<wbr>BySku</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">resolve<wbr>Receipts<wbr>BySku<span class="tsd-signature-symbol">(</span>sku<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapreceipt.html" class="tsd-signature-type" data-tsd-kind="Interface">IapReceipt</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#resolvereceiptsbysku">resolveReceiptsBySku</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/iap/index.ts#L217">backend/iap/index.ts:217</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Gets all receipts for a specified product, which can be used to aggregate sales data.</p>
								</div>
								<dl class="tsd-comment-tags">
									<dt>example</dt>
									<dd><pre><code class="language-javascript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">receipts</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">iap</span><span style="color: #000000">.</span><span style="color: #795E26">resolveReceiptBySku</span><span style="color: #000000">(</span><span style="color: #001080">sku</span><span style="color: #000000">);</span>
</code></pre>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>sku: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Identifier for the product. Products are defined in the entitlements file and registered or updated when the project is deployed.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="backend_iap.iapreceipt.html" class="tsd-signature-type" data-tsd-kind="Interface">IapReceipt</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Array of receipts for the specified product.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
					<a name="updatereceipt" class="tsd-anchor"></a>
					<h3>update<wbr>Receipt</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
						<li class="tsd-signature tsd-kind-icon">update<wbr>Receipt<span class="tsd-signature-symbol">(</span>receiptId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, attributes<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span>, notificationMessage<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<p>Inherited from <a href="../classes/backend_iap.iap.html">IAP</a>.<a href="../classes/backend_iap.iap.html#updatereceipt">updateReceipt</a></p>
								<ul>
									<li>Defined in <a href="https://github.com/madewithkoji/koji-core/blob/59081e7/src/backend/iap/index.ts#L242">backend/iap/index.ts:242</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Updates the custom attributes for a specified receipt.
									For example, if a user purchases a credit toward a product on the Koji and then uses it, you can update the receipt to indicate that the credit has been consumed and is not available for future sessions.</p>
								</div>
								<dl class="tsd-comment-tags">
									<dt>example</dt>
									<dd><pre><code class="language-javascript"><span style="color: #001080">iap</span><span style="color: #000000">.</span><span style="color: #795E26">updateReceipt</span><span style="color: #000000">(</span><span style="color: #001080">id</span><span style="color: #000000">, { </span><span style="color: #001080">consumed:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000"> }, </span><span style="color: #A31515">&#039;You have successfully redeemed your credit.&#039;</span><span style="color: #000000">);</span>
</code></pre>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>receiptId: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Unique identifier for the receipt.</p>
									</div>
								</li>
								<li>
									<h5>attributes: <span class="tsd-signature-symbol">{}</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Object of key-value paired attributes to store with the receipt.</p>
									</div>
									<ul class="tsd-parameters">
										<li class="tsd-parameter-index-signature">
											<h5><span class="tsd-signature-symbol">[</span>index: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">any</span></h5>
										</li>
									</ul>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> notificationMessage: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Custom message to sent the user when the receipt is updated (up to 80 characters). If undefined, the message will read: <code>Your receipt for PRODUCT_NAME was updated.</code></p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Confirmation of the update, if the request was successful, or an error message, if not.</p>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Exports</a>
					</li>
					<li class="current tsd-kind-module">
						<a href="../modules/backend_iap.html">backend/iap</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum tsd-parent-kind-module">
						<a href="../enums/backend_iap.iaproutes.html" class="tsd-kind-icon">Iap<wbr>Routes</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/backend_iap.iap.html" class="tsd-kind-icon">IAP</a>
					</li>
				</ul>
				<ul class="current">
					<li class="current tsd-kind-interface tsd-parent-kind-module">
						<a href="backend_iap.iiap.html" class="tsd-kind-icon">IIAP</a>
						<ul>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-inherited tsd-is-protected">
								<a href="backend_iap.iiap.html#projectid" class="tsd-kind-icon">project<wbr>Id</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface tsd-is-inherited tsd-is-protected">
								<a href="backend_iap.iiap.html#projecttoken" class="tsd-kind-icon">project<wbr>Token</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
								<a href="backend_iap.iiap.html#capturetransaction" class="tsd-kind-icon">capture<wbr>Transaction</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
								<a href="backend_iap.iiap.html#loadproduct" class="tsd-kind-icon">load<wbr>Product</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
								<a href="backend_iap.iiap.html#refundtransaction" class="tsd-kind-icon">refund<wbr>Transaction</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
								<a href="backend_iap.iiap.html#resolvereceiptbyid" class="tsd-kind-icon">resolve<wbr>Receipt<wbr>ById</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
								<a href="backend_iap.iiap.html#resolvereceiptsbyiaptoken" class="tsd-kind-icon">resolve<wbr>Receipts<wbr>ByIAPToken</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
								<a href="backend_iap.iiap.html#resolvereceiptsbysku" class="tsd-kind-icon">resolve<wbr>Receipts<wbr>BySku</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-interface tsd-is-inherited">
								<a href="backend_iap.iiap.html#updatereceipt" class="tsd-kind-icon">update<wbr>Receipt</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="backend_iap.iapproduct.html" class="tsd-kind-icon">Iap<wbr>Product</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="backend_iap.iapreceipt.html" class="tsd-kind-icon">Iap<wbr>Receipt</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="backend_iap.userartifact.html" class="tsd-kind-icon">User<wbr>Artifact</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>